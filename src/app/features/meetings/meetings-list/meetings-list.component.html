<div class="meetings-list">
  <div class="page-header">
    <h1 style="margin: 0; flex: 1 1 auto;">ä¼šè®®ç®¡ç†</h1>
    <button class="btn-primary future-roles-btn" [routerLink]="['/meetings/roles-manager']">ç®¡ç†æœªæ¥ä¼šè®®è§’è‰²</button>
  </div>

  <!-- æ¡Œé¢ç«¯è¡¨æ ¼è§†å›¾ -->
  <div class="desktop-view" *ngIf="meetingsView$ | async as meetings">
    <div class="meetings-table">
      <table>
        <thead>
          <tr>
            <th>ä¼šè®®ç¼–å·</th>
            <th>æ—¥æœŸ</th>
            <th>ä¸»é¢˜</th>
            <th>åœ°ç‚¹</th>
            <th>å½¢å¼</th>
            <th>è§’è‰²æ•°</th>
            <th>è®¿å®¢æ•°</th>
            <th>å¤‡ç¨¿æ•°</th>
            <th>çŠ¶æ€</th>
            <th>æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let meeting of meetings" [class.completed]="meeting.status === 'completed'">
            <td>{{ meeting.meetingNumber }}</td>
            <td>{{ meeting.date | date:'yyyyå¹´MMæœˆddæ—¥' }}</td>
            <td>{{ meeting.theme || '-' }}</td>
            <td class="venue-cell">
              <div class="venue-name">{{ meeting.venueName }}</div>
              <div class="venue-id">{{ meeting.venue }}</div>
            </td>
            <td>
              <span class="type-badge" [class]="meeting.type">
                {{ meeting.typeText }}
              </span>
            </td>
            <td class="count-cell">{{ meeting.assignmentCount }}</td>
            <td class="count-cell">{{ meeting.visitorCount }}</td>
            <td class="count-cell">{{ meeting.speechCount }}</td>
            <td>
              <span class="status-badge" [class]="meeting.status">
                {{ getStatusText(meeting.status) }}
              </span>
            </td>
            <td>
              <button class="btn-small" [routerLink]="['/meetings', meeting.id]">æŸ¥çœ‹</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ç§»åŠ¨ç«¯å¡ç‰‡è§†å›¾ -->
  <div class="mobile-view" *ngIf="meetingsView$ | async as meetings">
    <div class="meeting-cards">
      <div class="meeting-card" *ngFor="let meeting of meetings" [class.completed]="meeting.status === 'completed'">
        <div class="card-header">
          <div class="meeting-title">
            <h3>ç¬¬{{ meeting.meetingNumber }}æ¬¡ä¼šè®®</h3>
            <span class="type-badge" [class]="meeting.type">{{ meeting.typeText }}</span>
          </div>
          <span class="status-badge" [class]="meeting.status">{{ getStatusText(meeting.status) }}</span>
        </div>
        
        <div class="card-content">
          <div class="meeting-info">
            <div class="info-row">
              <span class="info-label">ğŸ“…</span>
              <span class="info-value">{{ meeting.date | date:'yyyyå¹´MMæœˆddæ—¥' }}</span>
            </div>
            
            <div class="info-row" *ngIf="meeting.theme">
              <span class="info-label">ğŸ¯</span>
              <span class="info-value">{{ meeting.theme }}</span>
            </div>
            
            <div class="info-row">
              <span class="info-label">ğŸ“</span>
              <div class="venue-info">
                <span class="venue-name">{{ meeting.venueName }}</span>
                <span class="venue-id">({{ meeting.venue }})</span>
              </div>
            </div>
            
            <div class="info-row">
              <span class="info-label">ğŸ‘¥</span>
              <span class="counts">
                è§’è‰²: {{ meeting.assignmentCount }} | è®¿å®¢: {{ meeting.visitorCount }} | å¤‡ç¨¿: {{ meeting.speechCount }}
              </span>
            </div>
          </div>
        </div>
        
        <div class="card-actions">
          <button class="btn-primary" [routerLink]="['/meetings', meeting.id]">æŸ¥çœ‹è¯¦æƒ…</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="(meetingsView$ | async)?.length === 0" class="empty-state">
    <p>è¿˜æ²¡æœ‰ä¼šè®®è®°å½•</p>
  </div>
</div> 